{"ast":null,"code":"var _jsxFileName = \"/Users/edgarrodriguezzavala/Workspace/programing-test-named-registered/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css'; // import in3-Module\n\nimport In3Client from 'in3';\n\nclass App extends Component {\n  constructor() {\n    super(); // use the In3Client configured without proof and without signatureCount\n\n    this.showNameRegisteredEvents = async () => {\n      let actualBlock;\n      let nameresult = [];\n      const AVERAGEBYDAY = 6433; //Average to block by day\n      //Get the current block number.\n\n      await this.in3.eth.getBlockByNumber('latest', false).then(value => {\n        actualBlock = value.number;\n      }); //This function in in3 is similar to getPastEvent in web3 and with this obtain information about the event in a range.\n\n      await this.contrato.events.NameRegistered.getLogs({\n        fromBlock: actualBlock - AVERAGEBYDAY * this.state.filterDay,\n        toBlock: \"latest\"\n      }).then(events => {\n        nameresult = events; //store log event in local variable\n      }); //Update State variable\n\n      this.setState({\n        nameRegisteredResult: nameresult\n      });\n    };\n\n    this.in3 = new In3Client({\n      proof: 'standard',\n      signatureCount: 1,\n      requestCount: 2,\n      chainId: 'mainnet' //connection with the mainnet, incube\n\n    }); //Address ENS in mainnet\n\n    this.ADDRESS = \"0xf0ad5cad05e10572efceb849f6ff0c68f9700455\"; //ABI ENS in mainnet for obtain instance for the contract.\n\n    this.contrato = this.in3.eth.contractAt([{\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"interfaceID\",\n        \"type\": \"bytes4\"\n      }],\n      \"name\": \"supportsInterface\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"pure\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [],\n      \"name\": \"withdraw\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_prices\",\n        \"type\": \"address\"\n      }],\n      \"name\": \"setPriceOracle\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [],\n      \"name\": \"renounceOwnership\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"_minCommitmentAge\",\n        \"type\": \"uint256\"\n      }, {\n        \"name\": \"_maxCommitmentAge\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"setCommitmentAges\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"commitments\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }, {\n        \"name\": \"duration\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"rentPrice\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }, {\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"duration\",\n        \"type\": \"uint256\"\n      }, {\n        \"name\": \"secret\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"register\",\n      \"outputs\": [],\n      \"payable\": true,\n      \"stateMutability\": \"payable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"MIN_REGISTRATION_DURATION\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"minCommitmentAge\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"owner\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"address\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"isOwner\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }],\n      \"name\": \"valid\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }, {\n        \"name\": \"duration\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"renew\",\n      \"outputs\": [],\n      \"payable\": true,\n      \"stateMutability\": \"payable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }],\n      \"name\": \"available\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"bool\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [],\n      \"name\": \"maxCommitmentAge\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"view\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"commitment\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"commit\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": false,\n      \"inputs\": [{\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }],\n      \"name\": \"transferOwnership\",\n      \"outputs\": [],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }, {\n      \"constant\": true,\n      \"inputs\": [{\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }, {\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"secret\",\n        \"type\": \"bytes32\"\n      }],\n      \"name\": \"makeCommitment\",\n      \"outputs\": [{\n        \"name\": \"\",\n        \"type\": \"bytes32\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"pure\",\n      \"type\": \"function\"\n    }, {\n      \"inputs\": [{\n        \"name\": \"_base\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"_prices\",\n        \"type\": \"address\"\n      }, {\n        \"name\": \"_minCommitmentAge\",\n        \"type\": \"uint256\"\n      }, {\n        \"name\": \"_maxCommitmentAge\",\n        \"type\": \"uint256\"\n      }],\n      \"payable\": false,\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"constructor\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": false,\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"label\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"owner\",\n        \"type\": \"address\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"cost\",\n        \"type\": \"uint256\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"expires\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"NameRegistered\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": false,\n        \"name\": \"name\",\n        \"type\": \"string\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"label\",\n        \"type\": \"bytes32\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"cost\",\n        \"type\": \"uint256\"\n      }, {\n        \"indexed\": false,\n        \"name\": \"expires\",\n        \"type\": \"uint256\"\n      }],\n      \"name\": \"NameRenewed\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"oracle\",\n        \"type\": \"address\"\n      }],\n      \"name\": \"NewPriceOracle\",\n      \"type\": \"event\"\n    }, {\n      \"anonymous\": false,\n      \"inputs\": [{\n        \"indexed\": true,\n        \"name\": \"previousOwner\",\n        \"type\": \"address\"\n      }, {\n        \"indexed\": true,\n        \"name\": \"newOwner\",\n        \"type\": \"address\"\n      }],\n      \"name\": \"OwnershipTransferred\",\n      \"type\": \"event\"\n    }], this.ADDRESS);\n    this.state = {\n      nameRegisteredResult: [],\n      //array nameRegistered last 1 or 2 days\n      filterDay: 0\n    };\n    this.changeDate = this.changeDate.bind(this);\n  } //Event for select 1 or 2 days in the past\n\n\n  changeDate(event) {\n    this.setState({\n      filterDay: event.target.value\n    });\n  } //This function obtain the actual block and after this obtain Logs for the NameRegistered Event in ENS \n\n\n  //In this function using information from Logns and create UI React in a select option and table\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"This programming task display the last name registered in the ENS\"), React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      onChange: this.changeDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"0\",\n      defaultValue: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Select days ago\"), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"Last Day ago\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \"Last 2 days ago\"))), React.createElement(\"div\", {\n      className: \"AppStart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"button\",\n      onClick: this.showNameRegisteredEvents,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Display Names Registered Events\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(\"table\", {\n      id: \"ENS-Names\",\n      className: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Name ENS\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Label\"), React.createElement(\"th\", {\n      scope: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"Owner\"))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.nameRegisteredResult.map((event, i) => React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      className: \"bolding\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, event.name), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, event.label), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, event.owner))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/edgarrodriguezzavala/Workspace/programing-test-named-registered/src/App.js"],"names":["React","Component","In3Client","App","constructor","showNameRegisteredEvents","actualBlock","nameresult","AVERAGEBYDAY","in3","eth","getBlockByNumber","then","value","number","contrato","events","NameRegistered","getLogs","fromBlock","state","filterDay","toBlock","setState","nameRegisteredResult","proof","signatureCount","requestCount","chainId","ADDRESS","contractAt","changeDate","bind","event","target","render","map","i","name","label","owner"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport './App.css';\n// import in3-Module\nimport In3Client from 'in3'\n\n\nclass App extends Component {\n  constructor() {\n    super()\n\n    // use the In3Client configured without proof and without signatureCount\n    this.in3 = new In3Client({\n      proof: 'standard',\n      signatureCount: 1,\n      requestCount: 2,\n      chainId: 'mainnet' //connection with the mainnet, incube\n    })\n    //Address ENS in mainnet\n    this.ADDRESS = \"0xf0ad5cad05e10572efceb849f6ff0c68f9700455\"\n    //ABI ENS in mainnet for obtain instance for the contract.\n    this.contrato = this.in3.eth.contractAt([{ \"constant\": true, \"inputs\": [{ \"name\": \"interfaceID\", \"type\": \"bytes4\" }], \"name\": \"supportsInterface\", \"outputs\": [{ \"name\": \"\", \"type\": \"bool\" }], \"payable\": false, \"stateMutability\": \"pure\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"withdraw\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_prices\", \"type\": \"address\" }], \"name\": \"setPriceOracle\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [], \"name\": \"renounceOwnership\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"_minCommitmentAge\", \"type\": \"uint256\" }, { \"name\": \"_maxCommitmentAge\", \"type\": \"uint256\" }], \"name\": \"setCommitmentAges\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"\", \"type\": \"bytes32\" }], \"name\": \"commitments\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"name\", \"type\": \"string\" }, { \"name\": \"duration\", \"type\": \"uint256\" }], \"name\": \"rentPrice\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"name\", \"type\": \"string\" }, { \"name\": \"owner\", \"type\": \"address\" }, { \"name\": \"duration\", \"type\": \"uint256\" }, { \"name\": \"secret\", \"type\": \"bytes32\" }], \"name\": \"register\", \"outputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"MIN_REGISTRATION_DURATION\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"minCommitmentAge\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"owner\", \"outputs\": [{ \"name\": \"\", \"type\": \"address\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"isOwner\", \"outputs\": [{ \"name\": \"\", \"type\": \"bool\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"name\", \"type\": \"string\" }], \"name\": \"valid\", \"outputs\": [{ \"name\": \"\", \"type\": \"bool\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"name\", \"type\": \"string\" }, { \"name\": \"duration\", \"type\": \"uint256\" }], \"name\": \"renew\", \"outputs\": [], \"payable\": true, \"stateMutability\": \"payable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"name\", \"type\": \"string\" }], \"name\": \"available\", \"outputs\": [{ \"name\": \"\", \"type\": \"bool\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [], \"name\": \"maxCommitmentAge\", \"outputs\": [{ \"name\": \"\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"view\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"commitment\", \"type\": \"bytes32\" }], \"name\": \"commit\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": false, \"inputs\": [{ \"name\": \"newOwner\", \"type\": \"address\" }], \"name\": \"transferOwnership\", \"outputs\": [], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"function\" }, { \"constant\": true, \"inputs\": [{ \"name\": \"name\", \"type\": \"string\" }, { \"name\": \"owner\", \"type\": \"address\" }, { \"name\": \"secret\", \"type\": \"bytes32\" }], \"name\": \"makeCommitment\", \"outputs\": [{ \"name\": \"\", \"type\": \"bytes32\" }], \"payable\": false, \"stateMutability\": \"pure\", \"type\": \"function\" }, { \"inputs\": [{ \"name\": \"_base\", \"type\": \"address\" }, { \"name\": \"_prices\", \"type\": \"address\" }, { \"name\": \"_minCommitmentAge\", \"type\": \"uint256\" }, { \"name\": \"_maxCommitmentAge\", \"type\": \"uint256\" }], \"payable\": false, \"stateMutability\": \"nonpayable\", \"type\": \"constructor\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"name\", \"type\": \"string\" }, { \"indexed\": true, \"name\": \"label\", \"type\": \"bytes32\" }, { \"indexed\": true, \"name\": \"owner\", \"type\": \"address\" }, { \"indexed\": false, \"name\": \"cost\", \"type\": \"uint256\" }, { \"indexed\": false, \"name\": \"expires\", \"type\": \"uint256\" }], \"name\": \"NameRegistered\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": false, \"name\": \"name\", \"type\": \"string\" }, { \"indexed\": true, \"name\": \"label\", \"type\": \"bytes32\" }, { \"indexed\": false, \"name\": \"cost\", \"type\": \"uint256\" }, { \"indexed\": false, \"name\": \"expires\", \"type\": \"uint256\" }], \"name\": \"NameRenewed\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": true, \"name\": \"oracle\", \"type\": \"address\" }], \"name\": \"NewPriceOracle\", \"type\": \"event\" }, { \"anonymous\": false, \"inputs\": [{ \"indexed\": true, \"name\": \"previousOwner\", \"type\": \"address\" }, { \"indexed\": true, \"name\": \"newOwner\", \"type\": \"address\" }], \"name\": \"OwnershipTransferred\", \"type\": \"event\" }], this.ADDRESS)\n\n    this.state = {\n      nameRegisteredResult: [], //array nameRegistered last 1 or 2 days\n      filterDay: 0,\n    };\n\n    this.changeDate = this.changeDate.bind(this);\n\n\n  }\n  //Event for select 1 or 2 days in the past\n  changeDate(event) {\n    this.setState({ filterDay: event.target.value });\n  }\n\n  //This function obtain the actual block and after this obtain Logs for the NameRegistered Event in ENS \n  showNameRegisteredEvents = async () => {\n    let actualBlock;\n    let nameresult = [];\n    const AVERAGEBYDAY = 6433; //Average to block by day\n\n    //Get the current block number.\n    await this.in3.eth.getBlockByNumber('latest', false).then(value => {\n      actualBlock = value.number;\n    });\n    //This function in in3 is similar to getPastEvent in web3 and with this obtain information about the event in a range.\n    await this.contrato.events.NameRegistered.getLogs({ fromBlock: actualBlock - (AVERAGEBYDAY * this.state.filterDay), toBlock: \"latest\" }).then(events => {\n      nameresult = events;  //store log event in local variable\n    });\n    //Update State variable\n    this.setState({ nameRegisteredResult: nameresult });\n  }\n\n  //In this function using information from Logns and create UI React in a select option and table\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>This programming task display the last name registered in the ENS</h1>\n        <div className=\"box\">\n          <select onChange={this.changeDate}>\n            <option value=\"0\" defaultValue>Select days ago</option>\n            <option value=\"1\">Last Day ago</option>\n            <option value=\"2\">Last 2 days ago</option>\n          </select>\n        </div>\n        <div className=\"AppStart\">\n          <button className=\"button\" onClick={this.showNameRegisteredEvents}>Display Names Registered Events</button>\n        </div>\n\n        <br></br>\n        <br></br>\n        <table id=\"ENS-Names\" className=\"center\">\n          <thead>\n            <tr>\n              <th>Name ENS</th>\n              <th scope=\"col\">Label</th>\n              <th scope=\"col\">Owner</th>\n            </tr>\n          </thead>\n          <tbody>{this.state.nameRegisteredResult.map((event, i) =>\n            <tr key={i}>\n              <td className=\"bolding\">{event.name}</td>\n              <td>{event.label}</td>\n              <td>{event.owner}</td>\n            </tr>\n          )}</tbody>\n        </table>\n      </div>\n\n    );\n  }\n}\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}