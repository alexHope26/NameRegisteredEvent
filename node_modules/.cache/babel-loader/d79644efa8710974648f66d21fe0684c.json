{"ast":null,"code":"const Readable = require('readable-stream').Readable;\n\nconst TrieNode = require('./trieNode');\n\nconst util = require('util');\n\nmodule.exports = TrieReadStream;\n\nfunction TrieReadStream(trie) {\n  this.trie = trie;\n  this.next = null;\n  Readable.call(this, {\n    objectMode: true\n  });\n}\n\nutil.inherits(TrieReadStream, Readable);\n\nTrieReadStream.prototype._read = function () {\n  var self = this;\n\n  if (!self._started) {\n    self._started = true;\n\n    self.trie._findValueNodes(function (nodeRef, node, key, next) {\n      self.push({\n        key: TrieNode.nibblesToBuffer(key),\n        value: node.value\n      });\n      next();\n    }, function () {\n      // close stream\n      self.push(null);\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"script"}